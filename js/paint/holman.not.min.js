registerPaint('holman', class {
  static get inputProperties() {
    return [
      '--art-color',
      '--art-steps',
      '--art-alpha'
    ];
  }


  draw(ctx, x, y, width, height) {
    const leftToRight = Math.random() >= 0.5;

    if( leftToRight ) {
      ctx.moveTo(x, y);
      ctx.lineTo(x + width, y + height);
    } else {
      ctx.moveTo(x + width, y);
      ctx.lineTo(x, y + height);
    }

    ctx.stroke();
  }

  paint(ctx, size, props) {
    const color = props.get('--art-color');
    const step = props.get('--art-steps');
    const alpha = props.get('--art-alpha');

    ctx.globalAlpha = alpha;
    ctx.strokeStyle = color;

    const xsteps = Math.ceil(size.width / step.value);
    const ysteps = Math.ceil(size.height / step.value);

    const length = xsteps * ysteps;

    let height = 0;

    for (let x = 0; x < length; x++) {
      let xc = x;
      let y = height;
      if (x >= xsteps) {
        xc = x % xsteps;

        if (xc === 0) {
          height++;
          y = height;
        }
      }

      xc *= step.value;
      y *= step.value;

      this.draw(ctx, xc, y, step.value, step.value);
    }
  }
});
